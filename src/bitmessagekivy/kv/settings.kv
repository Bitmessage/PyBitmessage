<Setting>:
    name: 'set'
    MDTabs:
        id: tab_panel
        tab_display_mode:'text'

        Tab:
            text: app.tr._("User Interface")
            ScrollView:
                do_scroll_x: False
                BoxLayout:
                    size_hint_y: None
                    orientation: 'vertical'
                    height: dp(250) + self.minimum_height
                    padding: 10
                    BoxLayout:
                        size_hint_y: None
                        orientation: 'horizontal'
                        height: self.minimum_height
                        MDCheckbox:
                            id: chkbox
                            size_hint: None, None
                            size: dp(48), dp(50)
                            # active: True
                            halign: 'center'
                            disabled: True
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Start-on-login not yet supported on your OS")
                            halign: 'left'
                            pos_hint: {'center_x': 0, 'center_y': 0.6}
                            disabled: True
                    BoxLayout:
                        size_hint_y: None
                        orientation: 'vertical'
                        padding: [20, 0, 0, 0]
                        spacing: dp(10)
                        height: dp(100) + self.minimum_height
                        # pos_hint: {'center_x': 0, 'center_y': 0.6}
                        BoxLayout:
                            id: box_height
                            orientation: 'vertical'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Tray")
                                halign: 'left'
                                bold: True
                        BoxLayout:
                            orientation: 'horizontal'
                            MDCheckbox:
                                id: chkbox
                                size_hint: None, None
                                size: dp(48), dp(50)
                                # active: True
                                halign: 'center'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Start Bitmessage in the tray(don't show main window)")
                                halign: 'left'
                                pos_hint: {'x': 0, 'y': .5}
                        BoxLayout:
                            orientation: 'horizontal'
                            MDCheckbox:
                                id: chkbox
                                size_hint: None, None
                                size: dp(48), dp(50)
                                # active: True
                                halign: 'center'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Minimize to tray")
                                halign: 'left'
                                pos_hint: {'x': 0, 'y': .5}
                        BoxLayout:
                            orientation: 'horizontal'
                            MDCheckbox:
                                id: chkbox
                                size_hint: None, None
                                size: dp(48), dp(50)
                                # active: True
                                halign: 'center'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Close to tray")
                                halign: 'left'
                                pos_hint: {'x': 0, 'y': .5}
                    BoxLayout:
                        size_hint_y: None
                        orientation: 'vertical'
                        height: dp(100) + self.minimum_height
                        BoxLayout:
                            orientation: 'horizontal'
                            MDCheckbox:
                                id: chkbox
                                size_hint: None, None
                                size: dp(48), dp(50)
                                # active: True
                                halign: 'center'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Hide connection notifications")
                                halign: 'left'
                                pos_hint: {'x': 0, 'y': 0.2}
                        BoxLayout:
                            orientation: 'horizontal'
                            MDCheckbox:
                                id: chkbox
                                size_hint: None, None
                                size: dp(48), dp(50)
                                active: True
                                halign: 'center'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Show notification when message received")
                                halign: 'left'
                                pos_hint: {'x': 0, 'y': 0.2}
                        BoxLayout:
                            orientation: 'horizontal'
                            MDCheckbox:
                                id: chkbox
                                size_hint: None, None
                                size: dp(48), dp(50)
                                # active: True
                                halign: 'center'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Run in Portable Mode")
                                halign: 'left'
                                pos_hint: {'x': 0, 'y': 0.2}
                    BoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._('In portable Mode, messages and config files are stored in the same directory as the program rather then the normal application-data folder. This makes it convenient to run Bitmessage from a USB thumb drive.')
                            # text: 'huiiiii'
                            halign: 'left'
                    BoxLayout:
                        size_hint_y: None
                        orientation: 'vertical'
                        height: dp(100) + self.minimum_height
                        BoxLayout:
                            orientation: 'horizontal'
                            MDCheckbox:
                                id: chkbox
                                size_hint: None, None
                                size: dp(48), dp(50)
                                halign: 'center'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Willingly include unencrypted destination address when sending to a mobile device")
                                halign: 'left'
                                pos_hint: {'x': 0, 'y': 0.2}
                        BoxLayout:
                            orientation: 'horizontal'
                            MDCheckbox:
                                id: chkbox
                                size_hint: None, None
                                size: dp(48), dp(50)
                                active: True
                                halign: 'center'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Use identicons")
                                halign: 'left'
                                pos_hint: {'x': 0, 'y': 0.2}
                        BoxLayout:
                            orientation: 'horizontal'
                            MDCheckbox:
                                id: chkbox
                                size_hint: None, None
                                size: dp(48), dp(50)
                                halign: 'center'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Reply below Quote")
                                halign: 'left'
                                pos_hint: {'x': 0, 'y': 0.2}
                    Widget:
                        size_hint_y: None
                        height: 10
                    BoxLayout:
                        size_hint_y: None
                        orientation: 'vertical'
                        # padding: [0, 10, 0, 0]
                        spacing: 10
                        padding: [20, 0, 0, 0]
                        height: dp(20) + self.minimum_height
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Interface Language")
                            # halign: 'right'
                            bold: True
                        MDDropDownItem:
                            id: drop_item
                            # pos_hint: {'center_x': .5, 'center_y': .5}
                            text: 'System Setting'
                            on_release: root.menu.open()
                            on_press: root.set_caller()
                        # MDDropDownItem:
                        #     id: dropdown_item
                        #     text: 'italiano'
                        #     dropdown_max_height: 150
                        #     dropdown_bg: [1, 1, 1, 1]
                        #     # pos_hint: {'center_x': 0.5, 'center_y': 0}
                        #     items: [f"{i}" for i in ['System Setting','U.S. English','italiano','Esperanto','dansk','Deutsch','Pirate English','francais','Nederlands','norsk bokmal','polski','portugues europeu']]
                    BoxLayout:
                        spacing:5
                        orientation: 'horizontal'
                        # pos_hint: {'x':.76}
                        BoxLayout:
                            orientation: 'horizontal'
                            # padding: [0, 10, 0, 0]
                            spacing: 10
                            # MDRaisedButton:
                            #     text: app.tr._('Cancel')
                            MDRaisedButton:
                                text: app.tr._('Apply')
                                on_press: root.change_language()
        Tab:
            text: 'Network Settings'
            ScrollView:
                do_scroll_x: False
                BoxLayout:
                    size_hint_y: None
                    orientation: 'vertical'
                    height: dp(500) + self.minimum_height
                    padding: 10
                    BoxLayout:
                        id: box_height
                        orientation: 'vertical'
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Listening port")
                            halign: 'left'
                            bold: True
                    BoxLayout:
                        orientation: 'horizontal'
                        padding: [10, 0, 0, 0]
                        BoxLayout:
                            orientation: 'horizontal'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Listen for connections on port:")
                                halign: 'left'
                        BoxLayout:
                            orientation: 'horizontal'
                            MDTextFieldRect:
                                size_hint: None, None
                                size: dp(100), dp(30)
                                text: app.tr._('8444')
                                pos_hint: {'center_y': .5, 'center_x': .5}
                                input_filter: "int"
                        BoxLayout:
                            orientation: 'horizontal'
                            padding_left: 10
                            MDCheckbox:
                                id: chkbox
                                size_hint: None, None
                                size: dp(48), dp(50)
                                # active: True
                                halign: 'center'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("UPnP")
                                halign: 'left'
                                pos_hint: {'x': 0, 'y': 0}
                    BoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Proxy server / Tor")
                            halign: 'left'
                            bold: True

                    GridLayout:
                        cols: 2
                        padding: [10, 0, 0, 0]
                        MDLabel:
                            size_hint_x: None
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Type:")
                            halign: 'left'
                        MDDropDownItem:
                            id: dropdown_item2
                            dropdown_bg: [1, 1, 1, 1]
                            text: 'none'
                            pos_hint: {'x': 0.9, 'y': 0}
                            items: [f"{i}" for i in ['System Setting','U.S. English']]
                    BoxLayout:
                        size_hint_y: None
                        orientation: 'vertical'
                        padding: [30, 0, 0, 0]
                        spacing: 10
                        height: dp(100) + self.minimum_height
                        BoxLayout:
                            orientation: 'horizontal'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Server hostname:")
                                halign: 'left'
                            MDTextFieldRect:
                                size_hint: None, None
                                size: dp(app.window_size[0]/4), dp(30)
                                hint_text: app.tr._('localhost')
                                pos_hint: {'center_y': .5, 'center_x': .5}
                        BoxLayout:
                            orientation: 'horizontal'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Port:")
                                halign: 'left'
                            # TextInput:
                            #     size_hint: None, None
                            #     hint_text: '9050'
                            #     size: dp(app.window_size[0]/4), dp(30)
                            #     input_filter: "int"
                            #     readonly: False
                            #     multiline: False
                            #     font_size: '15sp'
                            MDTextFieldRect:
                                size_hint: None, None
                                size: dp(app.window_size[0]/4), dp(30)
                                hint_text: app.tr._('9050')
                                pos_hint: {'center_y': .5, 'center_x': .5}
                                input_filter: "int"
                        BoxLayout:
                            orientation: 'horizontal'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Username:")
                                halign: 'left'
                            MDTextFieldRect:
                                size_hint: None, None
                                size: dp(app.window_size[0]/4), dp(30)
                                pos_hint: {'center_y': .5, 'center_x': .5}
                        BoxLayout:
                            orientation: 'horizontal'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Pass:")
                                halign: 'left'
                            MDTextFieldRect:
                                size_hint: None, None
                                size: dp(app.window_size[0]/4), dp(30)
                                pos_hint: {'center_y': .5, 'center_x': .5}
                    BoxLayout:
                        orientation: 'horizontal'
                        padding: [30, 0, 0, 0]
                        MDCheckbox:
                            id: chkbox
                            size_hint: None, None
                            size: dp(48), dp(50)
                            # active: True
                            halign: 'center'
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Authentication")
                            halign: 'left'
                            pos_hint: {'x': 0, 'y': 0}
                    BoxLayout:
                        orientation: 'horizontal'
                        padding: [30, 0, 0, 0]
                        MDCheckbox:
                            id: chkbox
                            size_hint: None, None
                            size: dp(48), dp(50)
                            # active: True
                            halign: 'center'
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Listen for incoming connections when using proxy")
                            halign: 'left'
                            pos_hint: {'x': 0, 'y': 0}
                    BoxLayout:
                        orientation: 'horizontal'
                        padding: [30, 0, 0, 0]
                        MDCheckbox:
                            id: chkbox
                            size_hint: None, None
                            size: dp(48), dp(50)
                            # active: True
                            halign: 'center'
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Only connect to onion services(*.onion)")
                            halign: 'left'
                            pos_hint: {'x': 0, 'y': 0}
                    BoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Bandwidth limit")
                            halign: 'left'
                            bold: True
                    BoxLayout:
                        size_hint_y: None
                        orientation: 'horizontal'
                        padding: [30, 0, 0, 0]
                        height: dp(30) + self.minimum_height
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Maximum download rate (kB/s):[0:unlimited]")
                            halign: 'left'
                        MDTextFieldRect:
                            size_hint: None, None
                            size: app.window_size[0]/2, dp(30)
                            hint_text: app.tr._('0')
                            pos_hint: {'center_y': .5, 'center_x': .5}
                            input_filter: "int"
                    BoxLayout:
                        size_hint_y: None
                        orientation: 'horizontal'
                        padding: [30, 0, 0, 0]
                        height: dp(30) + self.minimum_height
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Maximum upload rate (kB/s):[0:unlimited]")
                            halign: 'left'
                        MDTextFieldRect:
                            size_hint: None, None
                            size: app.window_size[0]/2, dp(30)
                            hint_text: '0'
                            pos_hint: {'center_y': .5, 'center_x': .5}
                            input_filter: "int"
                    BoxLayout:
                        size_hint_y: None
                        orientation: 'horizontal'
                        padding: [30, 0, 0, 0]
                        height: dp(30) + self.minimum_height
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Maximum outbound connections:[0:none]")
                            halign: 'left'
                        MDTextFieldRect:
                            size_hint: None, None
                            size: app.window_size[0]/2, dp(30)
                            hint_text: '8'
                            pos_hint: {'center_y': .5, 'center_x': .5}
                            input_filter: "int"
                    BoxLayout:
                        spacing:5
                        orientation: 'horizontal'
                        # pos_hint: {'x':.76}
                        # MDRaisedButton:
                        #     text: app.tr._('Cancel')
                        MDRaisedButton:
                            text: app.tr._('Apply')
        Tab:
            text: 'Resends Expire'
            ScrollView:
                do_scroll_x: False
                BoxLayout:
                    size_hint_y: None
                    orientation: 'vertical'
                    height: dp(210 if app.app_platform == 'android' else 100)+ self.minimum_height
                    padding: 20
                    # spacing: 10
                    BoxLayout:
                        # size_hint_y: None
                        id: box1_height
                        orientation: 'vertical'
                        # height: dp(100) + self.minimum_height
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._(root.exp_text)
                            halign: 'left'
                    BoxLayout:
                        id: box2_height
                        size_hint_y: None
                        orientation: 'vertical'
                        height: dp(30) + self.minimum_height
                        MDLabel:
                            font_style: 'Body1'
                            theme_text_color: 'Primary'
                            text: app.tr._("Leave these input fields blank for the default behavior.")
                            halign: 'left'
                    BoxLayout:
                        size_hint_y: None
                        orientation: 'vertical'
                        padding: [10, 0, 0, 0]
                        height: dp(50) + self.minimum_height
                        BoxLayout:
                            orientation: 'horizontal'
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("Give up after")
                                halign: 'left'
                            MDTextFieldRect:
                                size_hint: None, None
                                size: dp(70), dp(30)
                                text: app.tr._('0')
                                pos_hint: {'center_y': .5, 'center_x': .5}
                                input_filter: "int"
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: app.tr._("days and")
                                halign: 'left'
                            MDTextFieldRect:
                                size_hint: None, None
                                size: dp(70), dp(30)
                                text: '0'
                                pos_hint: {'center_y': .5, 'center_x': .5}
                                input_filter: "int"
                            MDLabel:
                                font_style: 'Body1'
                                theme_text_color: 'Primary'
                                text: "months"
                                halign: 'left'
                    BoxLayout:
                        size_hint_y: None
                        spacing:5
                        orientation: 'horizontal'
                        # pos_hint: {'left': 0}
                        # pos_hint: {'x':.75}
                        height: dp(50) + self.minimum_height
                        # MDRaisedButton:
                        #     text: app.tr._('Cancel')
                        MDRaisedButton:
                            text: app.tr._('Apply')

    Loader: